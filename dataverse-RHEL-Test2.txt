I would like to connect with

    A standalone SSH client
    A Java SSH Client directly from my browser (Java required)

To access your instance:

    Open an SSH client. (find out how to connect using PuTTY)
    Locate your private key file (jmj-dataverse.pem). The wizard automatically detects the key you used to launch the instance.
    Your key must not be publicly viewable for SSH to work. Use this command if needed:

    chmod 400 jmj-dataverse.pem

    Connect to your instance using its Public DNS:

    ec2-54-183-114-117.us-west-1.compute.amazonaws.com

Example:

ssh -i "~/.ssh/jmj-dataverse" ec2-user@54.67.118.35

scp -i "~/.ssh/jmj-dataverse" ec2-user@54.67.118.35:/home/ec2-user/*.png .
scp -i "~/.ssh/jmj-dataverse" temporaryUCLAdataverseLogo.png  ec2-user@54.67.118.35:/home/ec2-user/.


Please note that in most cases the username above will be correct, however please ensure that you read your AMI usage instructions to ensure that the AMI owner has not changed the default AMI username.
If you need any assistance connecting to your instance, please see our connection documentation.

ssh -i "~/.ssh/jmj-dataverse" ec2-user@ec2-54-183-114-117.us-west-1.compute.amazonaws.com

/usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/resources/images



ec2-54-183-114-117.us-west-1.compute.amazonaws.com:8080
http://54.67.118.35:8080/
http://ec2-54-183-114-117.us-west-1.compute.amazonaws.com:8080/dataverse/root

ssh -i "~/.ssh/jmj-dataverse" ec2-user@54.67.118.35

ansible dataverse-test2 -m ping -u ec2-user --private-key=~/.ssh/jmj-dataverse

ansible-playbook -v dvn-test2.yml -vvvv  --private-key=~/.ssh/jmj-dataverse


glassfish   localhost:4848

http://54.67.118.35:4848
https://54.153.55.94:8080/dataverse/

54.153.55.94:8080/dataverse

/usr/local/glassfish4/glassfish/domains/domain1/logs

./asadmin list-domains


Usage: asadmin [-H|--host <host(default:localhost)>]
	[-p|--port <port(default:4848)>] [-u|--user <user(default:admin)>]
	[-W|--passwordfile <passwordfile>]
	[-t|--terse[=<terse(default:false)>]]
	[-s|--secure[=<secure(default:false)>]]
	[-e|--echo[=<echo(default:false)>]]
	[-I|--interactive[=<interactive(default:true)>]]
	[-?|--help[=<help(default:false)>] 
	[--detach(default:false)] 
	[--notify(default:false)] [subcommand [options] [operands]]
Command -help failed.

Command list-server failed.
[ec2-user@ip-172-31-2-7 bin]$ ./asadmin list-domains
domain1 running
Command list-domains executed successfully.
[ec2-user@ip-172-31-2-7 bin]$ ./asadmin deploy /tmp/dvinstall/dataverse.war
Remote server does not listen for requests on [localhost:4848]. Is the server up?
Unable to get remote commands. 
Closest matching local command(s): 
    help

Command deploy failed.
[ec2-user@ip-172-31-2-7 bin]$ ./asadmin list-domains
domain1 not running
Command list-domains executed successfully.
[ec2-user@ip-172-31-2-7 bin]$ java -version

/usr/local/solr/bin/solr delete -c collection1
./dvcleanup.sh
/usr/local/solr/bin/solr delete -c collection1
sudo rm -rf  /usr/local/glassfish4/glassfish/domains/domain1/


sudo rm -rf /usr/local/glassfish4
sudo rm -rf /usr/local/solr

/usr/local/glassfish4/glassfish/domains/domain1/logs/

/usr/local/glassfish4/bin/asadmin start-domain

list-domains
list-components

asadmin restart-domain

wget https://glassfish.java.net/downloads/quickstart/hello.

*** ./asadmin enable-secure-admin  
54.219.54.246:4848
54.219.54.246:8983/solr/

sudo /usr/local/glassfish4/bin/asadmin change-admin-password
sudo /usr/local/glassfish4/bin/asadmin enable-secure-admin  
sudo /usr/local/glassfish4/bin/asadmin deploy /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse.war
sudo /usr/local/glassfish4/bin/asadmin list-domains
sudo /usr/local/glassfish4/bin/asadmin start-domain
sudo /usr/local/glassfish4/bin/asadmin stop-domain
sudo /usr/local/glassfish4/bin/asadmin restart-domain
sudo /usr/local/glassfish4/bin/asadmin list-jvm-options
sudo /usr/local/glassfish4/bin/asadmin set-log-levels edu.harvard.iq.dataverse.api.Datasets=FINE
sudo /usr/local/glassfish4/bin/asadmin get server.resources.mail-resource.mail/notifyMailSession.host
curl -X PUT -d 'Jamie Jamison <jamison@library.ucla.edu>' http://localhost:8080/api/admin/settings/:SystemEmail
sudo /usr/local/glassfish4/bin/asadmin list-network-listeners


sudo /usr/local/glassfish4/bin/asadmin $ASADMIN_OPTS delete-jvm-options "\-Ddataverse.files.storage-driver-id=file"
sudo /usr/local/glassfish4/bin/asadmin $ASADMIN_OPTS create-jvm-options "\-Ddataverse.files.storage-driver-id=s3"
sudo /usr/local/glassfish4/bin/asadmin  create-jvm-options "-Ddataverse.files.s3-bucket-name=dataverse-test-site"


sudo /usr/local/glassfish4/bin/asadmin "-Ddataverse.files.s3-download-redirect=true"
sudo /usr/local/glassfish4/bin/asadmin create-jvm-options "-D dataverse.files.s3-url-expiration-minutes=120"


sudo /usr/local/glassfish4/bin/asadmin set server-config.network-config.network-listeners.network-listener.http-listener-2.port=443
sudo /usr/local/glassfish4/bin/asadmin delete-http-listener sampleListener

curl http://localhost:8080/api/admin/settings


sudo /usr/local/glassfish4/bin/asadmin deploy /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/dataverse.war

                 /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/

Error occurred during deployment: java.io.FileNotFoundException: /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/.glassfishStaleFiles (Permission denied). Please see server.log for more details.


 GUI internal error: Archive Path is NULL.
	
java.io.FileNotFoundException: /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/.glassfishStaleFiles (Permission denied)
java.io.FileNotFoundException: /usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse/.glassfishStaleFiles (Permission denied)


GET http://54.153.55.94/api/admin/settings

gitGET http://54.153.55.94/api/admin/authenticationProviders


ailed: [default] => {"dest": "/usr/local/glassfish4/glassfish/modules", "failed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "response": "Request failed: <urlopen error timed out>", "size": 12288, "state": "directory", "status_code": -1, "uid": 0, "url": "http://guides.dataverse.org/en/latest/_static/installation/files/issues/2180/grizzly-patch/glassfish-grizzly-extra-all.jar"}
msg: Request failed


[WARNING]: Consider using the unarchive module rather than running tar.  If you need to use command because unarchive is insufficient you can add
warn=False to this command task or set command_warnings=False in ansible.cfg to get rid of this message.


/usr/local/glassfish4/bin/asadmin deploy /usr/local/glassfish4/glassfish/domains/domain1/applications



Enter admin user name>  admin
Enter admin password for user "admin"> 
Remote server does not listen for requests on [localhost:4848]. Is the server up?
Unable to get remote commands. 
Closest matching local command(s): 
    help





[ec2-user@ip-172-31-19-240 config]$ curl http://localhost:8080/api/admin/settings
{"status":"OK","data":{":Shoulder":"FK2/",":Authority":"10.5072/FK2",":SystemEmail":"jamison@library.ucla.edu",":AllowSignUp":"True",":DoiSeparator,":"/",":ShibEnabled":"False",":DoiProvider":"EZID",":BlockedApiPolicy":"localhost-only",":Protocol":"doi",":GoogleAnalyticsCode":"",":BlockedApiEndpoints":"admin,test",":SignUpUrl":"/dataverseuser.xhtml?editMode=CREATE",":FooterCopyright":"UCLA Data Science Center"}}[ec2-user@ip-172-31-19-240 config]$ curl http://localhost:8080/api/admin/settings | jq
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   415  100   415    0     0  31812      0 --:--:-- --:--:-- --:--:-- 34583
{
  "status": "OK",
  "data": {
    ":Shoulder": "FK2/",
    ":Authority": "10.5072",
    ":SystemEmail": "jamison@library.ucla.edu",
    ":AllowSignUp": "True",
    ":DoiSeparator,": "/",
    ":ShibEnabled": "False",
    ":DoiProvider": "EZID",
    ":BlockedApiPolicy": "localhost-only",
    ":Protocol": "doi",
    ":GoogleAnalyticsCode": "",
    ":BlockedApiEndpoints": "admin,test",
    ":SignUpUrl": "/dataverseuser.xhtml?editMode=CREATE",
    ":FooterCopyright": "UCLA Data Science Center"
  }
}
[ec2-user@ip-172-31-19-240 config]$ 

<jvm-options>-Ddoi.password=apitest</jvm-options>
        <jvm-options>-Ddoi.username=apitest</jvm-options>
        <jvm-options>-Ddoi.baseurlstring=https://ezid.cdlib.org</jvm-options>
        <jvm-options>-Ddataverse.timerServer=true</jvm-options>



http://ec2-54-219-54-246.us-west-1.compute.amazonaws.com:8080/
http://ec2-54-219-54-246.us-west-1.compute.amazonaws.com:8080/dataset.xhtml?persistentId=doi:10.5072/FK2/FK2/VMNW7N&version=DRAFT


curl -X PUT -d https://www.library.ucla.edu/social-science-data-archive/about-data-archive http://localhost:8080/api/admin/settings/:NavbarAboutUrl


curl -X PUT -d 10.5072 http://localhost:8080/api/admin/settings/:Authority
curl -X PUT -d " University of California, Los Angeles" "http://localhost:8080/api/admin/settings/:FooterCopyright"

curl -X POST -H 'Content-type: application/json' --upload-file github.json http://localhost:8080/api/admin/authenticationProviders
curl -X POST -H 'Content-type: application/json' --upload-file orcid.json http://localhost:8080/api/admin/authenticationProviders


http://ec2-54-219-54-246.us-west-1.compute.amazonaws.com:8080/dataset.xhtml?ownerId=2
http://ec2-54-219-54-246.us-west-1.compute.amazonaws.com:8080/editdatafiles.xhtml?datasetId=4&mode=UPLOAD


GET http://ec2-54-219-54-246.us-west-1.compute.amazonaws.com/api/admin/assignments/assignees/$identifier


sudo -u dvnuser psql dvndb -c 'delete from "EJB__TIMER__TBL"'


Fully Qualified Domain Name of your host: ec2-54-219-54-246.us-west-1.compute.amazonaws.com
Glassfish service account username: ec2-user
Glassfish Directory: /usr/local/glassfish4
Administrator email address for this Dataverse: jamison@library.ucla.edu
SMTP (mail) server to relay notification messages: smtp.office365.com
Postgres Server Address: 127.0.0.1
Postgres Server Port: 5432
Postgres ADMIN password: dvuser
Name of the Postgres Database: dvndb
Name of the Postgres User: dvnapp
Postgres user password: dvuser
Remote SOLR indexing service: LOCAL
Rserve Server: localhost
Rserve Server Port: 6311
Rserve User Name: rserve
Rserve User Password: rserve



<jvm-options>-Ddataverse.fqdn=dataverse.example.edu</jvm-options>
<jvm-options>-Ddataverse.siteUrl=http://${dataverse.fqdn}:8080</jvm-options>

